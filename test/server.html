<!DOCTYPE html>
<html>
  <head>
    <title>Yas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
      name="viewport"
    />
    <meta charset="utf-8" />
  </head>
  <style>
  html,
body,

#mobile-box {
  width: 360px;
}

.card {
  -webkit-border-radius: 10px;
  border-radius: 10px;
}

.card .view {
  -webkit-border-top-left-radius: 10px;
  border-top-left-radius: 10px;
  -webkit-border-top-right-radius: 10px;
  border-top-right-radius: 10px;
}

.card h5 a {
  color: #0d47a1;
}

.card h5 a:hover {
  color: #072f6b;
}

#pButton {
  float: left;
}
  </style>
  <body>
    <center>
      <!-- Content -->
<div class="container d-flex justify-content-center my-4 mb-5">

  <div id="mobile-box">
              <input type="text" id="yt-link" class="form-control" placeholder="https://www.youtube.com/watch?v=00000000000" style=margin-top:10px;">
    <button onclick="run()"  type="button" class="btn btn-primary" style="margin:5px 0;">Play<i class="fa-solid fa-music"></i></button>

    <!-- Card -->
    <div class="card">
      <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
        <img class="card-img-top" src="https://i.ytimg.com/vi/F5GjEwI8wEA/hq720.jpg"
          alt="Card image cap" id="card-img">
        <a href="#!">
          <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
        </a>
      </div>
      <div class="card-body text-center">

        <h5 class="mb-0 h5 font-weight-bold" id="yt-key">F5GjEwI8wEA</h5>
        <a href="https://youtu.be/F5GjEwI8wEA" target="_blank" id="yt-url">YT Link</a>

        <audio src="/youtube.com/watch?v=F5GjEwI8wEA" id="stream" controls>
        </audio>
        
      <a href="/youtube.com/watch?v=F5GjEwI8wEA" download id="dl-link">
        <button type="button" class="btn btn-primary"><i class="fa-solid fa-download"></i> Download</button>
      </a>

      </div>
    </div>
    <!-- Card -->
  </div>
</div>
<!-- Content -->
    </center>
  </body>
  <script>
    const run = () =>{
      console.log(document.getElementById("yt-link").value)
      document.getElementById("stream").setAttribute('src', `./${document.getElementById("yt-link").value.replace( /https:|www./g , "" )}`);
      document.getElementById("dl-link").setAttribute('href', `./${document.getElementById("yt-link").value.replace( /https:|www./g , "" )}`);
      document.getElementById("yt-url").setAttribute('href', document.getElementById("yt-link").value);
      document.getElementById("dl-link").setAttribute('download', `./yas-${document.getElementById("yt-link").value.substring(document.getElementById("yt-link").value.indexOf("v=")+2)}.mp3`);
      document.getElementById("card-img").setAttribute('src', `https://i.ytimg.com/vi/${document.getElementById("yt-link").value.substring(document.getElementById("yt-link").value.indexOf("v=")+2)}/hqdefault.jpg`);
      document.getElementById("yt-key").innerText = document.getElementById("yt-link").value.substring(document.getElementById("yt-link").value.indexOf("v=")+2);
    }
  </script>
</html>
